> 해당 글은 혼자 공부하는 컴퓨터구조+운영체제를 정리한 내용입니다.

# Chapter 08 입출력장치

## 1. 장치 컨트롤러와 장치 드라이버

* 다양한 외부 장치가 컴퓨터 내부와 어떻게 연결되고 소통하는지 학습
* 입출력장치를 설명할 때 보조기억장치도 포함하여 설명

### 장치 컨트롤러
CPU, 메모리보다 입출력장치가 다루기 더 까다로운 이유
* 종류가 많음
    1. 장치마다 속도, 데이터 전송 형식 등 다양
    2. 다양한 입출력장치와 정보를 주고받는 방식 규격화 어려움
* 일반적으로 CPU와 메모리의 데이터 전송률은 높고, 입출력장치의 데이터 전송률은 낮음
    * 전송률: 데이터를 얼마나 빨리 교환할 수 있는지를 나타내는 지표

장치 컨트롤러
* 입출력장치는 컴퓨터에 직접 연결되지 않고 장치 컨트롤러라는 하드웨어를 통해 연결
* 입출력장치는 각자의 장치 컨트롤러를 통해 컴퓨터 내부와 정보를 주고받고, 장치 컨트롤러는 하나 이상의 입출력장치와 연결되어 있음

장치 컨트롤러의 역할
* CPU와 입출력장치 간의 통신 중개
* 오류 검출
* 데이터 버퍼링
    * 버퍼링: 전송률이 높은 장치와 낮은 장치 사이에 주고받는 데이터를 버퍼라는 임시 저장 공간에 저장하여 전송률을 비슷하게 맞추는 방법

장치 컨트롤러의 구조
* 데이터 레지스터
    * CPU와 입출력장치 사이에 주고받을 데이터가 담기는 레지스터
    * 버퍼 역할
* 상태 레지스터
    * 입출력장치가 입출력 작업을 할 준비가 되었는지, 입출력 작업이 완료되었는지, 입출력장치에 오류는 없는지 등의 상태 정보가 저장
* 제어 레지스터
    * 입출력장치가 수행할 내용에 대한 제어 정보와 명령을 저장

### 장치 드라이버
* 장치 컨트롤러의 동작을 감지하고 제어함으로써 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램
* 실행 과정에서 메모리에 저장
* 장치 드라이버를 인식하고 실행하는 주체는 운영체제

## 2. 다양한 입출력 방법

* 입출력 작업을 수행하기 위해 장치 컨트롤러와 CPU가 어떻게 정보를 주고받는지를 학습

### 프로그램 입출력
* 프로그램 속 명령어로 입출력장치를 제어하는 방법
* CPU가 프로그램 속 명령어를 실행하는 과정에서 입출력 명령어를 만나면 CPU는 입출력장치에 연결된 장치 컨트롤러와 상호작용하며 입출력 작업을 수행

메모리 맵 입출력
* 메모리에 접근하기 위한 주소 공간과 입출력장치에 접근하기 위한 주소 공간을 하나의 주소 공간으로 간주하는 방법

고립형 입출력
* 메모리를 위한 주소 공간과 입출력장치를 위한 주소 공간을 분리하는 방법

### 인터럽트 기반 입출력
* 인터럽트를 기반으로 하는 입출력
* 여러 입출력장치에서 인터럽트가 동시에 발생한 경우에는 발생한 순서대로 인터럽트를 처리할 수 있음
* 플래그 레지스터 속 인터럽트 비트가 활성화되어 있는 경우, 혹은 NMI가 발생한 경우 우선순위가 높은 인터럽트부터 처리
* PIC 하드웨어를 통해 우선순위를 반영하여 다중 인터럽트를 처리

### DMA 입출력
* 입출력장치와 메모리가 CPU를 거치지 않고 직접 메모리에 접근할 수 있는 입출력 기능
* 시스템 버스에 연결된 DMA 컨트롤러라는 하드웨어가 필요
* 입출력 버스
    * 장치 컨트롤러들을 입출력 버스로 DMA 컨트롤러에 연결
    * 시스템 버스의 사용 빈도를 줄일 수 있음

# Chapter 09 운영체제 시작하기

## 1. 운영체제를 알아야 하는 이유

### 운영체제란
* 실행할 프로그램에 필요한 자원을 할당하고, 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램
* 커널 영역: 컴퓨터가 부팅될 때 운영체제가 메모리 내에 적재되는 영역
* 사용자 영역: 커널 영역을 제외한 나머지 영역, 사용자가 이용하는 응용 프로그램이 적재되는 영역

### 운영체제를 알아야 하는 이유
* 운영체제를 깊이 이해하면 운영체제가 건네는 말을 제대로 이해할 수 있고, 운영체제에 제대로 명령할 수 있게 됨
* 결과적으로 하드웨어와 프로그램을 더 깊이 이해할 수 있음

## 2. 운영체제의 큰 그림

### 운영체제의 심장, 커널
커널
* 운영체제의 핵심 서비스를 담당하는 부분

사용자 인터페이스
* 운영체제가 제공하는 서비스 중 커널에 포함되지 않는 서비스
* 윈도우의 바탕화면과 같이 사용자가 컴퓨터와 상호작용할 수 있는 통로
* ex. 그래픽 유저 인터페이스(GUI), 커맨드 라인 인터페이스(CLI)

### 이중 모드와 시스템 호출
* 사용자가 실행하는 응용 프로그램은 하드웨어 자원에 직접 접근할 수 없음
* 응용 프로그램은 운영체제를 통해 자원에 접근할 수 있음

이중 모드
* CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식

사용자 모드
* 운영체제 서비스를 제공받을 수 없는 실행 모드

커널 모드
* 운영체제 서비스를 제공받을 수 있는 실행 모드

시스템 호출
* 소프트웨어 인터럽트
* 운영체제 서비스를 제공받기 위한 요청

### 운영체제의 핵심 서비스
* 프로세스 관리
* 자원 접근 및 할당
* 파일 시스템 관리